
function addAttendee(attendHTML, user_detail){
  const attendanceList = document.querySelector('.attendance');
  const noAttendP = document.querySelector('.no-attend');
  if (noAttendP){
    noAttendP.style.display = "none";
  }
  attendanceList.insertAdjacentHTML('beforeend', attendHTML)
}

function showAttendError(){
  const attendHeader = document.querySelector('.attending-header-container');
  if (attendHeader){
  }
  else{
    attendHeader.insertAdjacentHTML('beforeend', "<p>You're already attending this event</p>");
  }
}

<% if @attendance.valid? %>
  addAttendee('<%= j render "attendance/attend", user: @attendance.user %> ')
<% else %>
  showAttendError();
<% end %>
