
function addAttendee(attendHTML, user_detail){
  const attendanceList = document.querySelectorAll('.attend-item');
  const noAttendP = document.querySelector('.no-attend');
    attendanceList[attendanceList.length - 1].insertAdjacentHTML('beforebegin', attendHTML);
    if (noAttendP){
      noAttendP.style.display = "none";
    }
}

function showAttendError(){
  const attendHeader = document.querySelector('.attending-error-container');
  if (attendHeader.children.length > 0){
  }
  else{
    attendHeader.insertAdjacentHTML('beforeend', "<p>You're already attending this event</p>");
  }
}

<% if @attendance.valid? %>
  addAttendee('<%= j render "attendance/attend", user: @attendance.user %> ')
<% else %>
  showAttendError();
<% end %>
